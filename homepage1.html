

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ðŸŽ¬ Movie Explorer - Home</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
      background: #f4f4f4; color: #222;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: #121212; color: #eee;
    }
    nav {
      background: #393e41; color: #f6f7eb; padding: 15px 25px;
      display: flex; justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    nav a {
      color: white; margin-left: 20px;
      text-decoration: none; font-weight: bold;
    }
    .top-bar {
      display: flex; justify-content: center;
      gap: 10px; margin: 20px 0; flex-wrap: wrap;
    }
    input, select {
      padding: 10px; border: 1px solid #ccc;
      border-radius: 5px; font-size: 16px;
    }
    button {
      padding: 10px 15px; cursor: pointer;
      background: #e94f37; color: white;
      border: none; border-radius: 5px;
      transition: background 0.3s;
    }
    button:hover:not(:disabled) {
      background: #e94f37;
    }
    button:disabled {
      background: #999;
      cursor: not-allowed;
    }
    .movie {
      display: flex; flex-wrap: wrap;
      justify-content: center; gap: 20px;
      padding: 0 20px;
    }
    .card {
      background: white; color: black;
      padding: 15px; border-radius: 10px;
      width: 250px; box-shadow: 0 0 10px rgba(0,0,0,0.1);
      display: flex; flex-direction: column; align-items: center;
      transition: background 0.3s, color 0.3s;
    }
    body.dark .card {
      background: #1e1e1e; color: #ddd;
    }
    .card img {
      max-width: 100%; height: 350px;
      object-fit: cover; border-radius: 5px;
    }
    .card button {
      margin-top: 8px;
    }
    .add-fav-btn { background: #28a745; }
    .pagination {
      display: flex; justify-content: center;
      gap: 15px; margin: 20px 0;
    }
    .pagination button { background: #555; }
  </style>
</head>
<body>
  <nav>
    <div><strong>ðŸŽ¬ Movie Explorer</strong></div>
    <div>
      <a href="index.html">Home</a>
      <a href="fav.html">Favorites</a>
      <a href="watched.html">Watched</a>
      <button onclick="toggleDarkMode()">ðŸŒ“</button>
    </div>
  </nav>

  <div class="top-bar">
    <input type="text" id="movieInput" placeholder="Enter movie name" />
    <input type="number" id="yearInput" placeholder="Year (optional)" />
    <select id="typeSelect">
      <option value="">All</option>
      <option value="movie">Movie</option>
      <option value="series">Series</option>
      <option value="episode">Episode</option>
    </select>
    <button onclick="searchMovies(1)">Search</button>
  </div>

  <div class="movie" id="movieResult"></div>
  <div class="pagination" id="paginationControls"></div>

  <script>
    const apiKey = "80a5b8df";
    let currentSearch = "";
    let currentPage = 1;
    let totalPages = 1;

    window.onload = () => {
      if (localStorage.getItem("darkMode") === "enabled") {
        document.body.classList.add("dark");
      }
    };



    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      localStorage.setItem("darkMode", document.body.classList.contains("dark") ? "enabled" : "disabled");
    }

    

    function searchMovies(page = 1) {
      const name = document.getElementById("movieInput").value.trim();
      const year = document.getElementById("yearInput").value.trim();
      const type = document.getElementById("typeSelect").value;

      if (name) currentSearch = name;
      if (!currentSearch) return alert("Please enter a movie name.");

      let url = `https://www.omdbapi.com/?s=${encodeURIComponent(currentSearch)}&page=${page}&apikey=${apiKey}`;
      if (year) url += `&y=${year}`;
      if (type) url += `&type=${type}`;

      fetch(url)
        .then(res => res.json())
        .then(data => {
          const container = document.getElementById("movieResult");
          const pagination = document.getElementById("paginationControls");

          if (data.Response === "False") {
            container.innerHTML = `<p>No results found.</p>`;
            pagination.innerHTML = "";
            return;
          }

          container.innerHTML = "";
          totalPages = Math.ceil(data.totalResults / 10);
          currentPage = page;

          data.Search.forEach(movie => {
            fetch(`https://www.omdbapi.com/?i=${movie.imdbID}&apikey=${apiKey}`)
              .then(res => res.json())
              .then(fullMovie => {
                const card = document.createElement("div");
                card.className = "card";
                card.innerHTML = `
                  <img src="${fullMovie.Poster !== "N/A" ? fullMovie.Poster : 'https://via.placeholder.com/250x350'}" alt="Poster of ${fullMovie.Title}"/>
                  <h3>${fullMovie.Title}</h3>
                  <p>Year: ${fullMovie.Year}</p>
                  <p>IMDb: ${fullMovie.imdbRating}</p>
                  <button class="add-fav-btn" onclick='addToFavorites(${JSON.stringify(fullMovie)})'>Add to Favorites</button>
                  <button onclick="watchTrailer('${fullMovie.Title.replace(/'/g, "\\'")}')">ðŸŽ¥ Watch Trailer</button>
                `;
                container.appendChild(card);
              });
          });

          pagination.innerHTML = `
            <button onclick="searchMovies(${currentPage - 1})" ${currentPage === 1 ? "disabled" : ""}>â¬… Prev</button>
            <span>Page ${currentPage} of ${totalPages}</span>
            <button onclick="searchMovies(${currentPage + 1})" ${currentPage === totalPages ? "disabled" : ""}>Next âž¡</button>
          `;
        });
    }

    function addToFavorites(movie) {
      let favs = JSON.parse(localStorage.getItem("favorites")) || [];
      if (!favs.some(m => m.imdbID === movie.imdbID)) {
        favs.push(movie);
        localStorage.setItem("favorites", JSON.stringify(favs));
        alert("Added to favorites!");
      } else {
        alert("Already in favorites!");
      }
    }

    function watchTrailer(title) {
      const query = encodeURIComponent(title + " official trailer");
      window.open(`https://www.youtube.com/results?search_query=${query}`, "_blank");
    }


 
  </script>
</body>
</html>


